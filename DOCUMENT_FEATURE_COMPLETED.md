# ุชูุฎูุต ููุฒุฉ ุฑูุน ุงููุณุชูุฏุงุช - ููุชููุฉ โ

## ุงููููุงุช ุงููููุดุฃุฉ ูุงูููุนุฏูุฉ

### 1. ุงููููุงุช ุงูุฌุฏูุฏุฉ ุงููููุดุฃุฉ
โ `lib/services/document_storage_service.dart` - ุฎุฏูุฉ ุฅุฏุงุฑุฉ ุชุฎุฒูู ุงููุณุชูุฏุงุช
โ `lib/presentation/providers/document_provider.dart` - ููุฏู ุฅุฏุงุฑุฉ ุญุงูุฉ ุงููุณุชูุฏุงุช  
โ `lib/presentation/screens/documents/document_upload_screen.dart` - ุดุงุดุฉ ุฑูุน ุงููุณุชูุฏุงุช
โ `lib/presentation/screens/documents/document_view_screen.dart` - ุดุงุดุฉ ุนุฑุถ ุงููุณุชูุฏุงุช
โ `database/create_documents_table.sql` - ุณูุฑูุจุช ุฅูุดุงุก ุฌุฏูู ุงููุณุชูุฏุงุช
โ `DOCUMENT_UPLOAD_FEATURE.md` - ุชูุซูู ุงูููุฒุฉ
โ `DOCUMENT_SETUP_GUIDE.md` - ุฏููู ุงูุฅุนุฏุงุฏ ูุงูุชุดุบูู

### 2. ุงููููุงุช ุงูููุนุฏูุฉ
โ `lib/main.dart` - ุฅุถุงูุฉ DocumentProvider
โ `lib/presentation/navigation/app_router.dart` - ุฅุถุงูุฉ ูุณุงุฑุงุช ุงููุณุชูุฏุงุช
โ `lib/presentation/screens/home/home_screen.dart` - ุชุญุฏูุซ ุฃุฒุฑุงุฑ ุงููุตูู

## ุงูููุฒุงุช ุงููููุฌุฒุฉ

### ๐ง ุงูุฎุฏูุงุช ูุงูุจููุฉ ุงูุชุญุชูุฉ
- [x] ุฎุฏูุฉ ุฑูุน ุงููููุงุช ุฅูู Supabase Storage
- [x] ุถุบุท ุงูุตูุฑ ุชููุงุฆูุงู (JPG, PNG)
- [x] ุงูุชุญูู ูู ุฃููุงุน ูุฃุญุฌุงู ุงููููุงุช
- [x] ุฅูุดุงุก ูุณุงุฑุงุช ุขููุฉ ูู Storage
- [x] ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุฑูุน ูุงูุฃุฎุทุงุก

### ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู
- [x] ุดุงุดุฉ ุฑูุน ุงููุณุชูุฏุงุช ูุน ูููุฐุฌ ุดุงูู
- [x] ุดุฑูุท ุชูุฏู ููุธูุฑ ูุณุจุฉ ุงูุฅููุงู
- [x] ุฎูุงุฑุงุช ูุชุนุฏุฏุฉ ููุฑูุน (ูุนุฑุถุ ูุงููุฑุงุ PDF)
- [x] ุดุงุดุฉ ุนุฑุถ ุงููุณุชูุฏุงุช ูุน ุงูุฅุญุตุงุฆูุงุช
- [x] ุชุฌููุน ุงููุณุชูุฏุงุช ุญุณุจ ุงูููุน
- [x] ูุคุดุฑุงุช ุจุตุฑูุฉ ููุญุงูุฉ ูุงูุชุญูู

### ๐ ุงูุฃูุงู ูุงูุญูุงูุฉ
- [x] ุณูุงุณุงุช Row Level Security (RLS)
- [x] ูุณุงุฑุงุช ุขููุฉ ูููููุงุช ุญุณุจ ุงููุณุชุฎุฏู
- [x] ูููุฏ ุนูู ุฃุญุฌุงู ูุฃููุงุน ุงููููุงุช
- [x] ุฅููุงููุฉ ุงูุญุฐู ูุญุฏูุฏุฉ ุจู 24 ุณุงุนุฉ

### ๐ฑ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- [x] ุทูุจ ุงูุฃุฐููุงุช ุชููุงุฆูุงู
- [x] ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ููููุฏุฉ
- [x] ุชุญุฏูุซ ููุฑู ููุงุฆูุฉ ุงููุณุชูุฏุงุช
- [x] ูุนุงููุฉ ุงูููู ุงููุญุฏุฏ ูุจู ุงูุฑูุน

## ุฃููุงุน ุงููุณุชูุฏุงุช ุงููุฏุนููุฉ

### ๐ธ ุงูุตูุฑ (ุญุฏ ุฃูุตู 5 MB)
- JPG, JPEG, PNG
- ุถุบุท ุชููุงุฆู ูุชูููุฑ ุงููุณุงุญุฉ
- ุฌูุฏุฉ ูุญุณููุฉ (85%)

### ๐ ุงููุณุชูุฏุงุช (ุญุฏ ุฃูุตู 10 MB)
- PDF
- ุญูุธ ูุจุงุดุฑ ุจุฏูู ุชุนุฏูู

## ุฃููุงุน ุงููุณุชูุฏุงุช ุงููุทููุจุฉ

1. **ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ** - profile/
2. **ูุซุงุฆู ุฏุงุฆุฑุฉ ุดุคูู ุงูุนุฑุงูู** - official-documents/iraqi-affairs/
3. **ูุซุงุฆู ูููุฐ ุงููุฌุฑุฉ ุงููููุชูุฉ** - official-documents/kuwait-immigration/
4. **ุฅูุงูุฉ ุณุงุฑูุฉ ุงูููุนูู** - official-documents/residence-permit/
5. **ูุซุงุฆู ุงูุตููุจ ุงูุฃุญูุฑ ุงูุฏููู** - official-documents/red-cross/
6. **ุฃุฎุฑู** - official-documents/other/ (ุงุฎุชูุงุฑู)

## ุงูุชูุงูู ูุน ุงููุธุงู

### โ Navigation
- ุชู ุฅุถุงูุฉ ูุณุงุฑูู ุฌุฏูุฏูู:
  - `/document-upload` - ุดุงุดุฉ ุฑูุน ุงููุณุชูุฏุงุช
  - `/document-view` - ุดุงุดุฉ ุนุฑุถ ุงููุณุชูุฏุงุช

### โ State Management
- ุชู ุฅุถุงูุฉ `DocumentProvider` ุฅูู ูุงุฆูุฉ Providers
- ุชูุงูู ูุน `PersonalDataProvider` ููุฑุจุท ุจุงูุจูุงูุงุช ุงูุดุฎุตูุฉ

### โ Home Screen
- ุชู ุชุญุฏูุซ ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ ูุชุดูู:
  - ุฒุฑ "ุฑูุน ุงููุณุชูุฏุงุช"
  - ุฒุฑ "ุนุฑุถ ุงููุณุชูุฏุงุช"

## ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู `documents`
```sql
- id (UUID, Primary Key)
- user_id (UUID, Foreign Key)
- personal_data_id (UUID, Foreign Key)
- type (TEXT, Document Type)
- file_name (TEXT)
- original_file_name (TEXT)
- file_path (TEXT, Unique)
- file_url (TEXT)
- file_size (BIGINT)
- mime_type (TEXT)
- description (TEXT, Optional)
- is_required (BOOLEAN)
- is_verified (BOOLEAN)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
- verified_by (UUID, Optional)
- verified_at (TIMESTAMP, Optional)
- rejection_reason (TEXT, Optional)
```

### Indexes ููุฃุฏุงุก
- `idx_documents_user_id`
- `idx_documents_personal_data_id`
- `idx_documents_type`
- `idx_documents_is_verified`
- `idx_documents_created_at`

### Views ูููุฏุฉ
- `user_documents_stats` - ุฅุญุตุงุฆูุงุช ุงููุณุชูุฏุงุช ููู ูุณุชุฎุฏู
- `documents_with_personal_data` - ุงููุณุชูุฏุงุช ูุน ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ
- `large_files` - ุงููููุงุช ุงููุจูุฑุฉ (ุฃูุซุฑ ูู 5MB)

## ุฎุทูุงุช ุงูุชุดุบูู

### 1. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```sql
-- ุชุดุบูู ูู Supabase SQL Editor
-- ูุณุฎ ููุตู ูุญุชููุงุช: database/create_documents_table.sql
```

### 2. ุฅุนุฏุงุฏ Storage Bucket
```sql
-- ุชุดุบูู ุงูุฃูุฑ ุงูุฐู ุฒูุฏุชูู ุจู ูุฅูุดุงุก user-documents bucket
```

### 3. ุชุญุฏูุซ ุงูุชุจุนูุงุช
```bash
flutter pub get
```

### 4. ุฅุถุงูุฉ ุงูุฃุฐููุงุช (ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ)

**Android** (`android/app/src/main/AndroidManifest.xml`):
```xml
<uses-permission android:name="android.permission.CAMERA" />
<uses-permission android:name="android.permission.READ_MEDIA_IMAGES" />
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
```

**iOS** (`ios/Runner/Info.plist`):
```xml
<key>NSCameraUsageDescription</key>
<string>ูุญุชุงุฌ ุงูุชุทุจูู ุฅูู ุงููุตูู ูููุงููุฑุง ูุชุตููุฑ ุงููุณุชูุฏุงุช</string>
<key>NSPhotoLibraryUsageDescription</key>
<string>ูุญุชุงุฌ ุงูุชุทุจูู ุฅูู ุงููุตูู ููุนุฑุถ ุงูุตูุฑ ูุงุฎุชูุงุฑ ุงููุณุชูุฏุงุช</string>
```

### 5. ุชุดุบูู ุงูุชุทุจูู
```bash
flutter run
```

## ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู

### ุฑูุน ูุณุชูุฏ ุฌุฏูุฏ:
1. ุงูุฐูุงุจ ููุดุงุดุฉ ุงูุฑุฆูุณูุฉ
2. ุงูููุฑ ุนูู "ุฑูุน ุงููุณุชูุฏุงุช"
3. ุงุฎุชูุงุฑ ููุน ุงููุณุชูุฏ ูู ุงููุงุฆูุฉ
4. ุฅุถุงูุฉ ูุตู (ุงุฎุชูุงุฑู)
5. ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฑูุน:
   - **ูู ุงููุนุฑุถ**: ุงุฎุชูุงุฑ ุตูุฑุฉ ูู ูุนุฑุถ ุงูุตูุฑ
   - **ุชุตููุฑ**: ูุชุญ ุงููุงููุฑุง ูุงูุชูุงุท ุตูุฑุฉ ุฌุฏูุฏุฉ
   - **ููู PDF**: ุงุฎุชูุงุฑ ููู PDF ูู ุงููุธุงู
6. ุงูููุฑ ุนูู "ุฑูุน ุงููุณุชูุฏ"

### ุนุฑุถ ุงููุณุชูุฏุงุช:
1. ุงูุฐูุงุจ ููุดุงุดุฉ ุงูุฑุฆูุณูุฉ
2. ุงูููุฑ ุนูู "ุนุฑุถ ุงููุณุชูุฏุงุช"
3. ุงุณุชุนุฑุงุถ ุงูุฅุญุตุงุฆูุงุช ูู ุงูุฃุนูู
4. ูุชุญ ุฃูุณุงู ุฃููุงุน ุงููุณุชูุฏุงุช ูุนุฑุถ ุงูุชูุงุตูู
5. ุงุณุชุฎุฏุงู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ ููู ูุณุชูุฏ ููุฎูุงุฑุงุช:
   - ุนุฑุถ ุงููุณุชูุฏ
   - ุนุฑุถ ุงููุตู (ุฅู ูุฌุฏ)
   - ุญุฐู ุงููุณุชูุฏ

## ุงูุฃูุงู ูุงููููุฏ

- **ุญูุงูุฉ ุงูุจูุงูุงุช**: ูู ูุณุชุฎุฏู ูุฑู ูุณุชูุฏุงุชู ููุท
- **ูููุฏ ุงูุฑูุน**: ูุณุชูุฏ ูุงุญุฏ ููู ููุน ูุทููุจ
- **ูููุฏ ุงูุญุฐู**: ุฎูุงู 24 ุณุงุนุฉ ูู ุงูุฑูุน ููุท
- **ูููุฏ ุงูุฃุญุฌุงู**: 5MB ููุตูุฑุ 10MB ููู PDF
- **ุฃููุงุน ูุฏุนููุฉ**: JPG, PNG, PDF ููุท

## ุงูุญุงูุฉ ุงูููุงุฆูุฉ

โ **ุฌุงูุฒ ููุฅูุชุงุฌ**
- ุฌููุน ุงููููุงุช ููุดุฃุฉ ูููุนุฏูุฉ
- ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู ุงูููุฏ
- ุงูุชูุซูู ููุชูู
- ุฏููู ุงูุฅุนุฏุงุฏ ูุชููุฑ

๐ฏ **ุงูููุฒุฉ ููุชููุฉ ุจุงููุงูู ูููุฎุชุจุฑุฉ**

ุงููุทููุจ ุงูุขู ููุท:
1. ุชุดุบูู SQL scripts ูู Supabase
2. ุฅุถุงูุฉ ุงูุฃุฐููุงุช ุงููุทููุจุฉ (ุฅู ูู ุชูู ููุฌูุฏุฉ)
3. ุชุดุบูู `flutter pub get`
4. ุชุดุบูู ุงูุชุทุจูู ูุงุฎุชุจุงุฑ ุงูููุฒุฉ

---

**ููุงุญุธุฉ**: ุฌููุน ุงููููุงุช ุชู ุฅูุดุงุคูุง ุจุฏูู ุฃุฎุทุงุก ุจุฑูุฌูุฉ ูุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ุงููุจุงุดุฑ.
