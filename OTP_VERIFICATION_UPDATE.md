# تحديث شاشة تأكيد الحساب - التحقق عبر رمز OTP

## نظرة عامة
تم تحديث شاشة تأكيد الحساب (`ConfirmAccountScreen`) لاستخدام التحقق عبر رمز OTP المرسل للبريد الإلكتروني بدلاً من رابط التفعيل.

## التغييرات المطبقة

### 1. واجهة المستخدم الجديدة
- إضافة حقل إدخال للرمز المكون من 6 أرقام
- تغيير الأيقونة من البريد الإلكتروني إلى رمز التحقق
- إضافة رسالة توضيحية عن صلاحية الرمز (ساعة واحدة)
- تحسين تخطيط الشاشة لتناسب الاستخدام الجديد

### 2. الوظائف الجديدة
- `_sendOtpCode()`: إرسال رمز OTP للمستخدم
- `_verifyOtpCode()`: التحقق من صحة الرمز المدخل
- `_resendOtpCode()`: إعادة إرسال رمز جديد

### 3. تحسينات تجربة المستخدم
- التركيز التلقائي على حقل الإدخال بعد إرسال الرمز
- مسح الحقل تلقائياً عند الخطأ
- عرض رسائل خطأ واضحة ومفصلة
- ترجمة رسائل الخطأ من الإنجليزية للعربية

### 4. رسائل الخطأ المدعومة
- `otp_expired`: رمز التحقق منتهي الصلاحية
- `invalid_otp`: رمز التحقق غير صحيح
- `token_hash_not_found`: رمز غير موجود أو منتهي الصلاحية
- `over_email_send_rate_limit`: تجاوز حد إرسال الرسائل
- `signup_disabled`: الخدمة معطلة مؤقتاً

### 5. الميزات الجديدة
- التحقق من صحة الإدخال (6 أرقام فقط)
- إظهار حالة التحميل أثناء العمليات
- إعادة توجيه تلقائي للصفحة الرئيسية عند النجاح
- إمكانية إعادة إرسال الرمز

## طريقة الاستخدام

1. يتم إرسال رمز OTP تلقائياً عند فتح الشاشة
2. يدخل المستخدم الرمز المكون من 6 أرقام
3. يضغط على زر "تأكيد" للتحقق
4. في حالة النجاح، يتم التوجه للصفحة الرئيسية
5. في حالة الخطأ، يمكن إعادة إرسال رمز جديد

## قالب البريد الإلكتروني المطلوب

```html
<h2>Confirm your signup</h2>
<h2>رمز التحقق</h2>
<p>مرحباً!</p>
<p>رمز التحقق الخاص بك هو:</p>
<h1 style="font-size: 32px; color: #333; text-align: center;">{{ .Token }}</h1>
<p>هذا الرمز صالح لمدة ساعة واحدة.</p>
<p>إذا لم تطلب هذا الرمز، يرجى تجاهل هذه الرسالة.</p>
```

## الملفات المعدلة
- `lib/presentation/screens/auth/confirm_account_screen.dart`

## الاعتمادات
- استخدام وظائف `sendOtp()` و `verifyOtp()` من `AuthProvider`
- دعم كامل للغة العربية
- تصميم متوافق مع باقي التطبيق
